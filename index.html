<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Analyse Rentabilité Transport</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --primary: #4f46e5;
      --primary-light: #6366f1;
      --primary-dark: #4338ca;
      --success: #22c55e;
      --danger: #ef4444;
      --warning: #f59e0b;
      --neutral: #6b7280;
      --background: #f9fafb;
      --card: #ffffff;
      --text: #1f2937;
      --text-light: #6b7280;
      --border: #e5e7eb;
      --border-focus: #d1d5db;
      --shadow: rgba(0, 0, 0, 0.1);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--background);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
      padding: 2rem 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .container {
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
    }
    
    .header {
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .header h1 {
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }
    
    .header p {
      color: var(--text-light);
    }
    
    .card {
      background: var(--card);
      border-radius: 12px;
      box-shadow: 0 4px 15px var(--shadow);
      padding: 2rem;
      margin-bottom: 2rem;
      overflow: hidden;
    }
    
    .card-header {
      display: flex;
      align-items: center;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border);
    }
    
    .card-header i {
      font-size: 1.5rem;
      color: var(--primary);
      margin-right: 1rem;
    }
    
    .card-header h2 {
      font-size: 1.25rem;
      font-weight: 600;
    }
    
    .form-section {
      margin-bottom: 1.5rem;
    }
    
    .form-section h3 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--primary);
      display: flex;
      align-items: center;
    }
    
    .form-section h3 i {
      margin-right: 0.5rem;
    }
    
    .form-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    
    @media (min-width: 640px) {
      .form-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    .form-group {
      margin-bottom: 1rem;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }
    
    .input-icon-wrapper {
      position: relative;
    }
    
    .input-icon-wrapper i {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-light);
    }
    
    .input-icon-wrapper input, 
    .input-icon-wrapper select {
      padding-left: 2.5rem;
    }
    
    input, select {
      width: 100%;
      padding: 0.75rem 1rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
      transition: all 0.2s;
    }
    
    input:focus, select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
    }
    
    input:disabled {
      background-color: var(--background);
      cursor: not-allowed;
    }
    
    .input-suffix {
      position: relative;
    }
    
    .input-suffix:after {
      content: attr(data-suffix);
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-light);
      font-weight: 500;
    }
    
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.75rem 1.5rem;
      background-color: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      width: 100%;
    }
    
    .btn i {
      margin-right: 0.5rem;
    }
    
    .btn:hover {
      background-color: var(--primary-dark);
    }
    
    .btn-reset {
      background-color: var(--neutral);
      margin-right: 1rem;
    }
    
    .btn-reset:hover {
      background-color: #4b5563;
    }
    
    .button-group {
      display: flex;
      justify-content: flex-end;
      margin-top: 1.5rem;
    }
    
    .result {
      display: none;
    }
    
    .result-header {
      display: flex;
      align-items: center;
      margin-bottom: 1.5rem;
    }
    
    .result-header i {
      font-size: 1.5rem;
      margin-right: 1rem;
    }
    
    .summary-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    
    @media (min-width: 640px) {
      .summary-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    .summary-card {
      background: var(--background);
      border-radius: 8px;
      padding: 1rem;
    }
    
    .summary-card h4 {
      font-size: 0.875rem;
      color: var(--text-light);
      margin-bottom: 0.5rem;
    }
    
    .summary-card p {
      font-size: 1.25rem;
      font-weight: 600;
    }
    
    .cost-breakdown {
      margin-top: 1.5rem;
    }
    
    .breakdown-item {
      display: flex;
      justify-content: space-between;
      padding: 0.75rem 0;
      border-bottom: 1px solid var(--border);
    }
    
    .breakdown-item:last-child {
      border-bottom: none;
    }
    
    .breakdown-item-label {
      display: flex;
      align-items: center;
    }
    
    .breakdown-item-label i {
      margin-right: 0.75rem;
      width: 1.5rem;
      text-align: center;
      color: var(--primary);
    }
    
    .breakdown-item-value {
      font-weight: 600;
    }
    
    .decision {
      margin-top: 2rem;
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
    }
    
    .decision.go {
      background-color: rgba(34, 197, 94, 0.1);
      border: 1px solid var(--success);
      color: var(--success);
    }
    
    .decision.nogo {
      background-color: rgba(239, 68, 68, 0.1);
      border: 1px solid var(--danger);
      color: var(--danger);
    }
    
    .decision i {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    
    .decision p {
      font-size: 1.25rem;
      font-weight: 700;
    }
    
    .tooltip {
      position: relative;
      display: inline-block;
      margin-left: 0.5rem;
      color: var(--text-light);
    }
    
    .tooltip .tooltip-text {
      visibility: hidden;
      width: 200px;
      background-color: #333;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 0.5rem;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 0.75rem;
      font-weight: normal;
    }
    
    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }
    
    footer {
      text-align: center;
      margin-top: 2rem;
      color: var(--text-light);
      font-size: 0.875rem;
    }
    
    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
      :root {
        --primary: #6366f1;
        --primary-light: #818cf8;
        --primary-dark: #4f46e5;
        --success: #22c55e;
        --danger: #ef4444;
        --warning: #f59e0b;
        --neutral: #6b7280;
        --background: #111827;
        --card: #1f2937;
        --text: #f3f4f6;
        --text-light: #9ca3af;
        --border: #374151;
        --border-focus: #4b5563;
        --shadow: rgba(0, 0, 0, 0.25);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Analyse de Rentabilité Transport</h1>
      <p>Calculez rapidement la rentabilité de vos transports</p>
    </div>
    
    <div class="card">
      <div class="card-header">
        <i class="fas fa-calculator"></i>
        <h2>Paramètres de calcul</h2>
      </div>
      
      <form id="goNoGoForm">
        <div class="form-section">
          <h3><i class="fas fa-route"></i> Trajet</h3>
          <div class="form-grid">
            <div class="form-group">
              <label for="startLocation">Ville de départ</label>
              <div class="input-icon-wrapper">
                <i class="fas fa-map-marker-alt"></i>
                <select id="startLocation" required>
                  <option value="">Sélectionnez une ville</option>
                </select>
              </div>
            </div>
            
            <div class="form-group">
              <label for="endLocation">Ville d'arrivée</label>
              <div class="input-icon-wrapper">
                <i class="fas fa-flag-checkered"></i>
                <select id="endLocation" required>
                  <option value="">Sélectionnez une ville</option>
                </select>
              </div>
            </div>
            
            <div class="form-group">
              <label for="distance">Distance aller (km)</label>
              <div class="input-icon-wrapper">
                <i class="fas fa-road"></i>
                <input type="number" id="distance" name="distance" step="0.1" readonly>
              </div>
            </div>
          </div>
        </div>
        
        <div class="form-section">
          <h3><i class="fas fa-box"></i> Produit</h3>
          <div class="form-grid">
            <div class="form-group">
              <label for="productWeight">Poids total du produit</label>
              <div class="input-icon-wrapper input-suffix" data-suffix="kg">
                <i class="fas fa-weight-hanging"></i>
                <input type="number" step="1" id="productWeight" name="productWeight" required min="0">
              </div>
            </div>
            
            <div class="form-group">
              <label for="vehicleType">Type de véhicule recommandé</label>
              <div class="input-icon-wrapper">
                <i class="fas fa-truck"></i>
                <input type="text" id="vehicleType" readonly>
              </div>
            </div>
          </div>
        </div>
        
        <div class="form-section">
          <h3><i class="fas fa-money-bill-wave"></i> Coûts et prix</h3>
          <div class="form-grid">
            <div class="form-group">
              <label for="purchasePrice">Prix d'achat du produit</label>
              <div class="input-icon-wrapper input-suffix" data-suffix="DH">
                <i class="fas fa-shopping-cart"></i>
                <input type="number" step="0.01" id="purchasePrice" name="purchasePrice" required min="0">
              </div>
            </div>
            
            <div class="form-group">
              <label for="sellingPrice">Prix de vente du produit</label>
              <div class="input-icon-wrapper input-suffix" data-suffix="DH">
                <i class="fas fa-tag"></i>
                <input type="number" step="0.01" id="sellingPrice" name="sellingPrice" required min="0">
              </div>
            </div>
            
            <div class="form-group">
              <label for="gasoilPrice">Prix du gasoil</label>
              <div class="input-icon-wrapper input-suffix" data-suffix="DH/L">
                <i class="fas fa-gas-pump"></i>
                <input type="number" step="0.01" id="gasoilPrice" name="gasoilPrice" required min="0">
              </div>
            </div>
          </div>
        </div>
        
        <div class="form-section">
          <h3><i class="fas fa-coins"></i> Frais supplémentaires</h3>
          <div class="form-grid">
            <div class="form-group">
              <label for="autoroutePrice">
                Frais d'autoroute (Aller seulement)
                <span class="tooltip">
                  <i class="fas fa-info-circle"></i>
                  <span class="tooltip-text">Le calcul prendra en compte l'aller-retour automatiquement</span>
                </span>
              </label>
              <div class="input-icon-wrapper input-suffix" data-suffix="DH">
                <i class="fas fa-road"></i>
                <input type="number" step="0.01" id="autoroutePrice" name="autoroutePrice" min="0" value="0">
              </div>
            </div>
            
            <div class="form-group">
              <label for="fraisDeplacement">Frais de déplacement chauffeur</label>
              <div class="input-icon-wrapper input-suffix" data-suffix="DH">
                <i class="fas fa-utensils"></i>
                <input type="number" step="0.01" id="fraisDeplacement" name="fraisDeplacement" min="0" value="0">
              </div>
            </div>
            
            <div class="form-group">
              <label for="fraisChauffeur">Frais journalier du chauffeur</label>
              <div class="input-icon-wrapper input-suffix" data-suffix="DH">
                <i class="fas fa-user"></i>
                <input type="number" step="0.01" id="fraisChauffeur" name="fraisChauffeur" min="0" value="0">
              </div>
            </div>
          </div>
        </div>
        
        <div class="button-group">
          <button type="button" id="resetBtn" class="btn btn-reset">
            <i class="fas fa-undo"></i> Réinitialiser
          </button>
          <button type="submit" class="btn">
            <i class="fas fa-calculator"></i> Calculer la rentabilité
          </button>
        </div>
      </form>
    </div>
    
    <div id="result" class="card result">
      <div class="card-header">
        <i class="fas fa-chart-bar"></i>
        <h2>Résultats de l'analyse</h2>
      </div>
      
      <div id="resultContent"></div>
    </div>
  </div>
  
  <footer>
    <p>© 2025 Analyse de Rentabilité Transport - Version 2.0</p>
  </footer>

  <script>
    const villesDepart = ["Berrechid", "Had Soualem", "Benahmed", "Bouskoura", "Marrakech", "Temara", "Sidi Ghanem"];
    const villesArrivee = [
      "Ain Harrouda", "Benahmed", "Ben Guerir", "Benslimane", "Berrechid", "Bouskoura", "Casablanca",
      "El Jadida", "Had Soualem", "Marrakech", "Mediouna", "Mohammedia", "Nouaceur", "Oued Zem", "Settat",
      "Sidi Bennour", "Sidi Rahal", "Sidi Smail", "Skhirat", "Soualem", "Temara", "Tit Mellil", "Youssoufia",
      "Casablanca", "Rabat", "Salé", "Kénitra", "Témara", "Sidi Yahya El Gharb", "Sidi Slimane", "Sidi Taibi",
      "Tiflet", "Skhirat", "Ain Atiq", "Ain El Aouda", "Oulmès", "Rommani","Sidi kacem","Safi","Fes",
      "Béni Mellal", "Khouribga", "Khénifra", "Fquih Ben Salah", "Oued Zem", "Boujniba", "Boulanouare", 
      "Bejaad", "Kasba Tadla", "Souk Sebt Oulad Nemma", "El Ksiba", "Zaouiat Cheikh"
    ];

    const distanceData = {
      "Had Soualem-Ain Harrouda": 40,
      "Had Soualem-Benahmed": 45,
      "Had Soualem-Ben Guerir": 165,
      "Had Soualem-Benslimane": 47,
      "Had Soualem-Bouskoura": 31,
      "Had Soualem-Casablanca": 40,
      "Had Soualem-El Jadida": 100,
      "Had Soualem-Marrakech": 255,
      "Had Soualem-Mediouna": 33,
      "Had Soualem-Mohammedia": 48,
      "Had Soualem-Nouaceur": 29,
      "Had Soualem-Oued Zem": 115,
      "Had Soualem-Settat": 37,
      "Had Soualem-Sidi Bennour": 110,
      "Had Soualem-Sidi Rahal": 45,
      "Had Soualem-Sidi Smail": 120,
      "Had Soualem-Skhirat": 105,
      "Had Soualem-Temara": 105,
      "Had Soualem-Tit Mellil": 39,
      "Had Soualem-Youssoufia": 160,
      "Had Soualem-Rabat": 93,
      "Had Soualem-Salé": 95,
      "Had Soualem-Kénitra": 140,
      "Had Soualem-Témara": 105,
      "Had Soualem-Sidi Yahya El Gharb": 175,
      "Had Soualem-Sidi Slimane": 185,
      "Had Soualem-Sidi Taibi": 150,
      "Had Soualem-Tiflet": 170,
      "Had Soualem-Ain Atiq": 115,
      "Had Soualem-Ain El Aouda": 120,
      "Had Soualem-Oulmès": 225,
      "Had Soualem-Rommani": 155,
      "Had Soualem-Safi":225,
      "Had Soualem-Sidi Kacem":260,
      // Distances pour Benahmed
      "Benahmed-Ain Harrouda": 65,
      "Benahmed-Ben Guerir": 175,
      "Benahmed-Benslimane": 55,
      "Benahmed-Bouskoura": 45,
      "Benahmed-Casablanca": 75,
      "Benahmed-El Jadida": 105,
      "Benahmed-Marrakech": 275,
      "Benahmed-Mediouna": 55,
      "Benahmed-Mohammedia": 65,
      "Benahmed-Nouaceur": 47,
      "Benahmed-Oued Zem": 125,
      "Benahmed-Settat": 40,
      "Benahmed-Sidi Bennour": 120,
      "Benahmed-Sidi Rahal": 60,
      "Benahmed-Sidi Smail": 130,
      "Benahmed-Skhirat": 110,
      "Benahmed-Soualem": 47,
      "Benahmed-Temara": 115,
      "Benahmed-Tit Mellil": 60,
      "Benahmed-Youssoufia": 170,
      "Benahmed-Rabat": 125,
      "Benahmed-Salé": 130,
      "Benahmed-Kénitra": 155,
      "Benahmed-Témara": 115,
      "Benahmed-Sidi Yahya El Gharb": 185,
      "Benahmed-Sidi Slimane": 195,
      "Benahmed-Sidi Taibi": 160,
      "Benahmed-Tiflet": 180,
      "Benahmed-Ain Atiq": 125,
      "Benahmed-Ain El Aouda": 135,
      "Benahmed-Oulmès": 240,
      "Benahmed-Rommani": 170,

      // Distances pour Bouskoura
      "Bouskoura-Ain Harrouda": 30,
      "Bouskoura-Ben Guerir": 160,
      "Bouskoura-Benslimane": 43,
      "Bouskoura-Casablanca": 27,
      "Bouskoura-El Jadida": 85,
      "Bouskoura-Marrakech": 240,
      "Bouskoura-Mediouna": 25,
      "Bouskoura-Mohammedia": 40,
      "Bouskoura-Nouaceur": 23,
      "Bouskoura-Oued Zem": 100,
      "Bouskoura-Settat": 35,
      "Bouskoura-Sidi Bennour": 100,
      "Bouskoura-Sidi Rahal": 50,
      "Bouskoura-Sidi Smail": 110,
      "Bouskoura-Skhirat": 85,
      "Bouskoura-Soualem": 30,
      "Bouskoura-Temara": 95,
      "Bouskoura-Tit Mellil": 33,
      "Bouskoura-Youssoufia": 145,
      "Bouskoura-Rabat": 100,
      "Bouskoura-Salé": 105,
      "Bouskoura-Kénitra": 130,
      "Bouskoura-Témara": 95,
      "Bouskoura-Sidi Yahya El Gharb": 165,
      "Bouskoura-Sidi Slimane": 175,
      "Bouskoura-Sidi Taibi": 145,
      "Bouskoura-Tiflet": 160,
      "Bouskoura-Ain Atiq": 105,
      "Bouskoura-Ain El Aouda": 100,
      "Bouskoura-Oulmès": 205,
      "Bouskoura-Rommani": 140,

      // Distances pour Sidi Ghanem
      "Sidi Ghanem-Ain Harrouda": 262,
      "Sidi Ghanem-Ben Guerir": 80,
      "Sidi Ghanem-Berrechid": 240,
      "Sidi Ghanem-Bouskoura": 250,
      "Sidi Ghanem-Casablanca": 250,
      "Sidi Ghanem-El Jadida": 277,
      "Sidi Ghanem-Had Soualem": 255,
      "Sidi Ghanem-Marrakech": 10,
      "Sidi Ghanem-Mediouna": 240,
      "Sidi Ghanem-Mohammedia": 260,
      "Sidi Ghanem-Nouaceur": 230,
      "Sidi Ghanem-Oued Zem": 245,
      "Sidi Ghanem-Settat": 210,
      "Sidi Ghanem-Sidi Bennour": 210,
      "Sidi Ghanem-Sidi Rahal": 270,
      "Sidi Ghanem-Skhirat": 320,
      "Sidi Ghanem-Soualem": 255,
      "Sidi Ghanem-Temara": 310,
      "Sidi Ghanem-Tit Mellil": 240,
      "Sidi Ghanem-Youssoufia": 130,
      "Sidi Ghanem-Rabat": 330,
      "Sidi Ghanem-Salé": 340,
      "Sidi Ghanem-Kénitra": 380,
      "Sidi Ghanem-Sidi Yahya El Gharb": 400,
      "Sidi Ghanem-Sidi Slimane": 410,
      "Sidi Ghanem-Sidi Taibi": 350,
      "Sidi Ghanem-Tiflet": 380,
      "Sidi Ghanem-Ain Atiq": 320,
      "Sidi Ghanem-Ain El Aouda": 310,
      "Sidi Ghanem-Oulmès": 290,
      "Sidi Ghanem-Rommani": 300,
      "Sidi Ghanem-Sidi kacem": 430,
      "Sidi Ghanem-Safi": 160,
      "Sidi Ghanem-Benahmed": 220,

      // Distances pour Marrakech
      "Marrakech-Ain Harrouda": 280,
      "Marrakech-Ben Guerir": 80,
      "Marrakech-Benslimane": 285,
      "Marrakech-Bouskoura": 240,
      "Marrakech-Casablanca": 250,
      "Marrakech-El Jadida": 195,
      "Marrakech-Mediouna": 235,
      "Marrakech-Mohammedia": 255,
      "Marrakech-Nouaceur": 230,
      "Marrakech-Oued Zem": 185,
      "Marrakech-Settat": 155,
      "Marrakech-Sidi Bennour": 205,
      "Marrakech-Sidi Rahal": 200,
      "Marrakech-Sidi Smail": 210,
      "Marrakech-Skhirat": 305,
      "Marrakech-Soualem": 240,
      "Marrakech-Temara": 315,
      "Marrakech-Tit Mellil": 250,
      "Marrakech-Youssoufia": 185,
      "Marrakech-Rabat": 325,
      "Marrakech-Salé": 330,
      "Marrakech-Kénitra": 365,
      "Marrakech-Témara": 315,
      "Marrakech-Sidi Yahya El Gharb": 400,
      "Marrakech-Sidi Slimane":
